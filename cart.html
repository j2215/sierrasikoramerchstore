<!DOCTYPE html>
<html lang="en">
   <head>
      <title>Sierra Sikora - Cart</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
      <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.slim.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
      <link rel="stylesheet" href="style.css">
      <link rel="preconnect" href="https://fonts.googleapis.com">
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link href="https://fonts.googleapis.com/css2?family=Fascinate&display=swap" rel="stylesheet">
   </head>
   <body>
      <!--NAVBAR-->
      <nav class="navbar navbar-expand-sm sticky-top">
         <a class="navbar-brand" href="home.html"><img src="https://pfy-prod-image-storage.s3.us-east-2.amazonaws.com/21428114/60191a5c-92a8-49c2-819d-19ee10453f46" width="50" height="50" alt="cart">Sierra Sikora</a>
         <ul class="navbar-nav">
            <li class="nav-item">
               <a class="nav-link" href="all.html">All Products</a>
            </li>
            <li class="nav-item">
               <a class="nav-link" href="men.html">Clothes</a>
            </li>
            <li class="nav-item">
               <a class="nav-link" href="accessories.html">Accessories</a>
            </li>
            <li class="nav-item"><a class="" href="cart.html"><img class="cart" src="Media/cart.png" height="50px" width="50px"></a></li>
         </ul>
      </nav>
      <!--Display cart-->
      <div class="container">
         <div class="row">
            <div class = "col-md-12">
               <h3 class="header text-center head">Checkout</h3>
            </div>
         </div>
         <div class="row product">
            <div class="col-md-12">
               <ul id="cart">

               </ul>
            </div>
         </div>
         <div class="row">
            <div class="col-md-12">
               <h3 id="totalCost">
               </h3>
            </div>
         </div>
         <div class="row">
            <div class="col-md-12">
               <h3 id="tax2">
               </h3>
            </div>
         </div>
         <div class="row">
            <div class="col-md-12">
               <h3 id="tax">
               </h3>
            </div>
         </div>
         <!--Clear-->
         <button onclick="clearCart()">Clear</button>
      </div>
      <!--Footer-->
      <div class="footer-cart footer container-fluid">
         <div class="row navbar">
            <div class="col-md-4">
               <h1><a href="home.html" class="nav-link fascinate">Sierra Sikora</a></h1>
            </div>
            <div class="col-md-4">
               <nav class="navbar">
                  <ul class="navbar-nav">
                     <li class="nav-item">
                        <a class="nav-link" href="all.html">All Products</a>
                     </li>
                     <li class="nav-item">
                        <a class="nav-link" href="men.html">Clothes</a>
                     </li>
                     <li class="nav-item">
                        <a class="nav-link" href="accessories.html">Accessories</a>
                     </li>
                     <li class="nav-item">
                        <a class="nav-link" href="cart.html">Cart</a>
                     </li>
                  </ul>
               </nav>
            </div>
            <div class="col-md-2">
               <a href="https://www.instagram.com/sierrasikoramusic?igsh=MWhnbHJrYnEyZHY0Ng==" target="_blank"><img src="Media/instagram-removebg-preview.png" alt="insta"></a>
            </div>
            <div class="col-md-2">
               <a href="https://open.spotify.com/artist/1Hm6XysSKvYMCEEjFlmGoR?si=pHtXdYpWRImyyhK6pkP5ZA&nd=1&utm_medium=organic&product=open&%24full_url=https%3A%2F%2Fopen.spotify.com%2Fartist%2F1Hm6XysSKvYMCEEjFlmGoR%3Fsi%3DpHtXdYpWRImyyhK6pkP5ZA&feature=organic&_branch_match_id=1458138812593243287&_branch_referrer=H4sIAAAAAAAAA72NzQqCQBSFn2ZcKmm5CCTEMkOCqEXZRkYdc3J%2BLnfGwk3PngW9QnAWh%2FPxcTprwSw9z4C2vB1dCuAKrnpvBaibobaRBqYc4s%2FbQYhyQBF1H4UEMfHTKR%2Fs%2Fuxay2miaLmxU5llMryM5pQ%2Fin2y2dxTIbf6SILUcBKsIbOXpoDzcSfHsctD6A%2BLa%2Fy9okJUtO7%2FcEf8UDUTnTkto3ZAFmm8UcVr54WsZYhc3coK9dMwjJIOtWRvo1jj1DMBAAA%3D" target="_blank"><img src="Media/logo-spotify.svg" width="100px" height="100px"></a>
            </div>
         </div>
      </div>
      <script>
         //PRICES OBJECT
         var prices = {
             "Confessions Tee": 25.00, 
             "Confessions Hoodie": 35.00,
             "Confessions Tote": 20.00,
             "Dear Athena Tee (Anniversary)": 27.00,
             "Dear Athena Crewneck (Anniversary)": 37.00,
             "Sierra Sikora Mic Tee": 20.00,
             "Sierra Sikora Mic Embroidered Cap": 30.00,
             "Sierra Squad Softstyle Tee": 20.00,
             "Sierra Squad Embroidered Cap": 30.00,
             "Jade Tee": 25.00,
             "Jade Hoodie":35.00,
             "Jade Tote": 20.00,
             "Astrology Tee (Anniversary)": 27.00,
             "Astrology Crewneck (Anniversary)": 37.00,
             "Relapse Lyrics Tee": 27.00,
             "Relapse Lyrics Crewneck": 37.00,
             "Relapse Tee": 25.00,
             "Relapse Hoodie": 35.00,
             "Relapse Tote": 20.00,
             "Dear Athena Tee": 25.00,
             "Dear Athena Hoodie": 35.00,
             "Dear Athena Tote": 20.00,
             "Astrology Tee": 25.00,
             "Astrology Hoodie": 35.00,
             "Astrology Tote": 20.00,
             "Dear Athena Anniversary Poster": 14.00,
             "Sierra Sikora Mic Embroidered Cap (Dark)": 30.00,
             "Sierra Squad Tee (Heavy Cotton)": 20.00
         };
         //VARIABLES
         var list = document.getElementById("cart");
         var cartS = JSON.parse(localStorage.getItem("cartS")) || {};
         var cartM = JSON.parse(localStorage.getItem("cartM")) || {};
         var cartL = JSON.parse(localStorage.getItem("cartL")) || {};
         var cartA = JSON.parse(localStorage.getItem("cartA")) || {};
         var cost = "";
         var subTotal;
         //CLEAR
         function clearCart(){
            localStorage.removeItem("cartS");
            localStorage.removeItem("cartM");
            localStorage.removeItem("cartL");
            localStorage.removeItem("cartA");
            cartS = {};
            cartM = {};
            cartL = {};
            cartA = {};
            displayCart();
            
         }
         //DISPLAY
         function displayCart(){
             var subTotal = 0;
             list.innerHTML = "";
             //ACCESSORIES
              for(const key in cartA){
                 var cost = prices[key] * cartA[key];
                 const li = document.createElement("li");
                 li.innerHTML = cartA[key] + "x " + key + " $" + cost.toFixed(2) ;
                 list.appendChild(li);
                  subTotal = subTotal + cost;
             };
             //SMALL
             for(const key in cartS){
                 var cost = prices[key] * cartS[key];
                 const li = document.createElement("li");
                 li.innerHTML = cartS[key] + "x " + key +  " Size: Small" + " $" + cost.toFixed(2) ;
                 list.appendChild(li);
                  subTotal = subTotal + cost;
             };
            
             //MEDIUM
             for(const key in cartM){
                 var cost = prices[key] * cartM[key];
                 const li = document.createElement("li");
                 li.innerHTML = cartM[key] + "x " + key + " Size: Medium" + " $" + cost.toFixed(2);
                 list.appendChild(li);
               subTotal = subTotal + cost;
             };
             //Large
              for(const key in cartL){
                 var cost = prices[key] * cartL[key];
                 const li = document.createElement("li");
                 li.innerHTML = cartL[key] + "x " + key  +  " Size: Large" + " $" + cost.toFixed(2) ;
                 list.appendChild(li);
                  subTotal = subTotal + cost;
             };
             //EMPTY CART MESSAGE
             if(Object.keys(cartA).length== 0 && 
               Object.keys(cartS).length== 0 &&
                Object.keys(cartM).length== 0 &&
               Object.keys(cartL).length== 0)
               {list.innerHTML = "<li>Your cart is empty.</li>"}

            // TAXES
                if(cartS || cartM || cartL){
               document.getElementById("totalCost").innerHTML = "Subtotal: $" + subTotal.toFixed(2);
               var tax = subTotal*0.1025;
               document.getElementById("tax2").innerHTML = "Tax: $" + tax.toFixed(2)
               document.getElementById("tax").innerHTML = "Total: $" + (subTotal*1.1025).toFixed(2);
             };
         };
             //DISPLAY ON OPEN PAGE
             displayCart();
         
         
         
      </script>
   </body>
</html>